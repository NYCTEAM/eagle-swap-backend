# ğŸ“° æ–°é—»å†…å®¹çˆ¬å–åŠŸèƒ½è¯´æ˜

## âœ… å·²å®ç°åŠŸèƒ½

### 1. è‡ªåŠ¨çˆ¬å–å®Œæ•´æ–‡ç« å†…å®¹

å½“ç”¨æˆ·è®¿é—®æ–°é—»è¯¦æƒ…é¡µæ—¶ï¼Œç³»ç»Ÿä¼šï¼š
1. æ£€æŸ¥æ•°æ®åº“ä¸­çš„æ–‡ç« å†…å®¹é•¿åº¦
2. å¦‚æœå†…å®¹å°‘äº500å­—ï¼Œè‡ªåŠ¨çˆ¬å–åŸç½‘ç«™å®Œæ•´å†…å®¹
3. ä¿å­˜åˆ°æ•°æ®åº“ï¼Œä¸‹æ¬¡è®¿é—®ç›´æ¥è¯»å–
4. ç”¨æˆ·åœ¨æˆ‘ä»¬ç½‘ç«™ç›´æ¥é˜…è¯»ï¼Œæ— éœ€è·³è½¬

### 2. æ”¯æŒçš„æ–°é—»ç½‘ç«™

- **CoinDesk** - `.article-body, .at-content-body, .entry-content`
- **Cointelegraph** - `.post-content, .post__content`
- **CryptoSlate** - `.post-content, .entry-content`
- **The Block** - `.article-content, .post-content`
- **Decrypt** - `.post-content, article`
- **é€šç”¨ç½‘ç«™** - `article, .article, .post-content, .entry-content, main`

### 3. å·¥ä½œæµç¨‹

```
ç”¨æˆ·ç‚¹å‡»æ–°é—»
    â†“
åç«¯APIæ¥æ”¶è¯·æ±‚
    â†“
æ£€æŸ¥æ•°æ®åº“å†…å®¹
    â†“
å†…å®¹ < 500å­—ï¼Ÿ
    â†“ æ˜¯
çˆ¬å–åŸç½‘ç«™å®Œæ•´HTML
    â†“
æå–æ–‡ç« ä¸»ä½“å†…å®¹
    â†“
ä¿å­˜åˆ°æ•°æ®åº“
    â†“
è¿”å›å®Œæ•´å†…å®¹ç»™å‰ç«¯
    â†“
å‰ç«¯æ˜¾ç¤ºå®Œæ•´æ–‡ç« 
```

## ğŸ“‹ ä»£ç ä½ç½®

### åç«¯

**æœåŠ¡å±‚ï¼š** `src/services/newsFeedService.ts`
- `scrapeFullArticle(url)` - çˆ¬å–ç½‘é¡µå†…å®¹
- `updateArticleContent(articleId)` - æ›´æ–°æ•°æ®åº“å†…å®¹

**è·¯ç”±å±‚ï¼š** `src/routes/news.ts`
- `GET /api/news/article/:id` - è‡ªåŠ¨è§¦å‘çˆ¬å–

### å‰ç«¯

**è¯¦æƒ…é¡µï¼š** `src/app/news/[id]/page.tsx`
- æ˜¾ç¤ºå®Œæ•´HTMLå†…å®¹
- ç‰ˆæƒå£°æ˜
- æŸ¥çœ‹åŸæ–‡é“¾æ¥

## ğŸ”’ ç‰ˆæƒåˆè§„

### å·²å®ç°çš„ç‰ˆæƒä¿æŠ¤æªæ–½

1. **æ˜ç¡®æ¥æºæ ‡æ³¨**
   - æ˜¾ç¤ºæ–‡ç« æ¥æºç½‘ç«™
   - æ˜¾ç¤ºåŸä½œè€…å§“å
   - æ˜¾ç¤ºå‘å¸ƒæ—¶é—´

2. **ç‰ˆæƒå£°æ˜**
   ```
   âš ï¸ ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡å†…å®¹æ¥è‡ª CoinDeskï¼Œ
   ç‰ˆæƒå½’åŸä½œè€… Shaurya Malwa æ‰€æœ‰ã€‚
   æœ¬ç«™ä»…ä½œä¸ºæ–°é—»èšåˆå±•ç¤ºï¼Œä¸å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚
   ```

3. **åŸæ–‡é“¾æ¥**
   - æä¾›"æŸ¥çœ‹åŸæ–‡"æŒ‰é’®
   - è·³è½¬åˆ°åŸç½‘ç«™
   - é¼“åŠ±ç”¨æˆ·è®¿é—®åŸç½‘ç«™

4. **åº•éƒ¨ç‰ˆæƒ**
   ```
   å†…å®¹æ¥æºï¼šCoinDesk
   æœ¬ç«™æä¾›çš„æ–°é—»å†…å®¹ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
   ```

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹æ–‡ç« 

**åŸç½‘å€ï¼š**
```
https://www.coindesk.com/markets/2025/12/24/bitcoin-continues-to-slip-against-gold-testing-the-safe-haven-trade
```

**æˆ‘ä»¬ç½‘ç«™ï¼š**
```
https://eagleswap.io/news/123
```

**ç”¨æˆ·ä½“éªŒï¼š**
1. ç”¨æˆ·ç‚¹å‡»æ–°é—»åˆ—è¡¨ä¸­çš„æ–‡ç« 
2. è·³è½¬åˆ° `/news/123`
3. çœ‹åˆ°å®Œæ•´æ–‡ç« å†…å®¹ï¼ˆåŒ…æ‹¬å›¾ç‰‡ã€æ®µè½ã€åˆ—è¡¨ç­‰ï¼‰
4. åº•éƒ¨æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯å’ŒåŸæ–‡é“¾æ¥
5. å¯ä»¥ç‚¹å‡»"æŸ¥çœ‹åŸæ–‡"è®¿é—®CoinDeskå®˜ç½‘

## ğŸ“Š æ•°æ®åº“ç»“æ„

### news_articles è¡¨

```sql
CREATE TABLE news_articles (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  source_id INTEGER NOT NULL,
  title TEXT NOT NULL,
  content TEXT,              -- å­˜å‚¨å®Œæ•´HTMLå†…å®¹
  summary TEXT,
  url TEXT NOT NULL UNIQUE,
  image_url TEXT,
  author TEXT,
  published_at TEXT NOT NULL,
  category TEXT,
  tags TEXT,
  created_at TEXT DEFAULT (datetime('now')),
  FOREIGN KEY (source_id) REFERENCES news_sources(id)
);
```

## âš™ï¸ æŠ€æœ¯å®ç°

### ä¾èµ–åŒ…

```json
{
  "axios": "^1.6.2",      // HTTPè¯·æ±‚
  "cheerio": "^1.0.0-rc.12"  // HTMLè§£æ
}
```

### æ ¸å¿ƒä»£ç 

```typescript
// çˆ¬å–ç½‘é¡µ
const response = await axios.get(url, {
  headers: {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
  },
  timeout: 10000
});

// è§£æHTML
const $ = cheerio.load(response.data);

// ç§»é™¤å¹¿å‘Šç­‰
$('script, style, nav, header, footer, aside, .advertisement, .ad, .social-share').remove();

// æå–å†…å®¹
const content = $('.article-body').html();

// ä¿å­˜åˆ°æ•°æ®åº“
db.prepare('UPDATE news_articles SET content = ? WHERE id = ?').run(content, articleId);
```

## ğŸ¯ ä¼˜åŠ¿

### 1. ç”¨æˆ·ä½“éªŒ
- âœ… æ— éœ€è·³è½¬ç¬¬ä¸‰æ–¹ç½‘ç«™
- âœ… ç»Ÿä¸€çš„é˜…è¯»ä½“éªŒ
- âœ… æ›´å¿«çš„åŠ è½½é€Ÿåº¦ï¼ˆç¼“å­˜åï¼‰
- âœ… ç§»åŠ¨ç«¯å‹å¥½

### 2. SEOä¼˜åŒ–
- âœ… å®Œæ•´å†…å®¹åœ¨æˆ‘ä»¬ç½‘ç«™
- âœ… æœç´¢å¼•æ“å¯ç´¢å¼•
- âœ… å¢åŠ ç½‘ç«™å†…å®¹ä»·å€¼

### 3. æ•°æ®æ§åˆ¶
- âœ… å†…å®¹å­˜å‚¨åœ¨æˆ‘ä»¬æ•°æ®åº“
- âœ… å¯ä»¥ç¦»çº¿è®¿é—®
- âœ… ä¸ä¾èµ–ç¬¬ä¸‰æ–¹ç½‘ç«™

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ³•å¾‹åˆè§„
- å¿…é¡»ä¿ç•™ç‰ˆæƒå£°æ˜
- å¿…é¡»æä¾›åŸæ–‡é“¾æ¥
- ä¸å¾—ä¿®æ”¹åŸæ–‡å†…å®¹
- ä»…ç”¨äºæ–°é—»èšåˆå±•ç¤º

### 2. æŠ€æœ¯é™åˆ¶
- æŸäº›ç½‘ç«™å¯èƒ½æœ‰åçˆ¬è™«æœºåˆ¶
- åŠ¨æ€åŠ è½½çš„å†…å®¹å¯èƒ½æ— æ³•è·å–
- éœ€è¦å®šæœŸæ›´æ–°CSSé€‰æ‹©å™¨

### 3. æ€§èƒ½è€ƒè™‘
- é¦–æ¬¡è®¿é—®éœ€è¦çˆ¬å–æ—¶é—´ï¼ˆçº¦2-5ç§’ï¼‰
- åç»­è®¿é—®ç›´æ¥è¯»å–æ•°æ®åº“ï¼ˆæ¯«ç§’çº§ï¼‰
- å»ºè®®å¼‚æ­¥çˆ¬å–ï¼Œä¸é˜»å¡ç”¨æˆ·

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šæ— æ³•çˆ¬å–å†…å®¹

**åŸå› ï¼š**
- ç½‘ç«™æ›´æ”¹äº†HTMLç»“æ„
- åçˆ¬è™«æœºåˆ¶

**è§£å†³ï¼š**
```typescript
// æ›´æ–°CSSé€‰æ‹©å™¨
if (url.includes('coindesk.com')) {
  content = $('.new-selector').html() || '';
}
```

### é—®é¢˜2ï¼šå†…å®¹æ ¼å¼é”™ä¹±

**åŸå› ï¼š**
- CSSæ ·å¼ä¸¢å¤±
- å›¾ç‰‡è·¯å¾„ç›¸å¯¹è·¯å¾„

**è§£å†³ï¼š**
```typescript
// è½¬æ¢ç›¸å¯¹è·¯å¾„ä¸ºç»å¯¹è·¯å¾„
content = content.replace(/src="\//, `src="${baseUrl}/`);
```

## ğŸ“ˆ æœªæ¥ä¼˜åŒ–

1. **æ‰¹é‡çˆ¬å–** - åå°å®šæ—¶ä»»åŠ¡æ‰¹é‡çˆ¬å–æ‰€æœ‰æ–°é—»
2. **å›¾ç‰‡ç¼“å­˜** - ä¸‹è½½å›¾ç‰‡åˆ°æˆ‘ä»¬æœåŠ¡å™¨
3. **å†…å®¹æ¸…æ´—** - ç§»é™¤å¹¿å‘Šã€ä¼˜åŒ–æ’ç‰ˆ
4. **å…¨æ–‡æœç´¢** - æ”¯æŒæœç´¢æ–‡ç« å†…å®¹
5. **AIæ‘˜è¦** - è‡ªåŠ¨ç”Ÿæˆæ–‡ç« æ‘˜è¦

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
